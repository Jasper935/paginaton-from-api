{"mappings":"AAAeA,eAAAC,EAAwBC,GAGnC,IACI,aAAaC,MAAM,qDAAUD,KAASE,MAAKC,GAAOA,EAAIC,SAE1D,MAAOC,GACHC,QAAQC,IAAIF,ICNpB,MAAMG,EAAMC,SAASC,cAAc,SAC7BC,EAAQF,SAASC,cAAc,UAC/BE,EAAMH,SAASC,cAAc,SAGnC,IAAIG,EAFYJ,SAASC,cAAc,YAC/BI,iBAAiB,SAKzB,SAAuBC,GAEnBhB,EAASgB,EAAIC,OAAOC,aAAaf,MAAKC,KAa1C,SAAoBe,GAEhB,IAAIC,EAAS,GACb,IAAK,IAAIC,EAAI,EAAGA,GAAKF,EAAOE,IAEpBD,GADM,IAANC,EACU,yCAAyCA,aAEzC,kCAAkCA,aAIpDZ,EAAIa,UAAYF,EAChBP,EAAIE,iBAAiB,QAASQ,GAtB1BC,CADcC,KAAKC,KAAKtB,EAAIuB,OAAS,IAErCb,EAAMV,EACNwB,EAAa,EATA,SAiCrB,SAASL,EAAQP,GACb,MAAMa,EAAiBb,EAAIC,OAAOC,YAC5BY,EAnCW,EAmCHC,OAAOF,GAGrBD,EAFgBE,EApCC,EAsCKA,GACL,IAAId,EAAIgB,cAAcC,UAG9BC,MAAKC,GAASA,EAAMC,UAAUC,SAAS,YAAWD,UAAUE,OAAO,UAC5EtB,EAAIC,OAAOmB,UAAUG,IAAI,UAK7B,SAASX,EAAaY,EAAY,EAAGC,GAGjC,IAAIrB,EAAS,GAEbqB,EAAUA,EAAU3B,EAAIa,OAASc,EAAU3B,EAAIa,OAC/C,IAAK,IAAIN,EAAImB,EAAWnB,EAAIoB,EAASpB,IAGjCD,GAAU,kBAAkBN,EAAIO,GAAGqB,MAAQ5B,EAAIO,GAAGqB,MALnC,qFAK+D5B,EAAIO,GAAGsB,mC,EAC5EtB,GAAIsB,mC,EACetB,GAAAuB,YAAO9B,EAAcO,GAAAuB,YAAO,qC,EACrCvB,GAAAwB,SAAO/B,EAAWO,GAAAwB,SAAO,8BAIxCjC,EAAMU,UAAYF","sources":["src/js/api/fetchApi.js","src/index.js"],"sourcesContent":["export default async function fetchApi(house) {\n    const link = 'https://hp-api.herokuapp.com/api/characters/house/'\n\n    try {\n        return await fetch(`${link}${house}`).then(res => res.json())\n    }\n    catch (err) {\n        console.log(err);\n    }\n}","import fetchApi from \"./js/api/fetchApi\";\nconst div = document.querySelector('.list')\nconst cards = document.querySelector('.cards')\nconst pag = document.querySelector('.list')\nconst buttons = document.querySelector('.buttons')\nbuttons.addEventListener('click', onClickButton)\nlet arr;\n\nconst countOfpages = 9;\n\nfunction onClickButton(evt) {\n\n    fetchApi(evt.target.textContent).then(res => {\n\n        const pages = Math.ceil(res.length / 9)\n        pagination(pages)\n        arr = res\n        createMarkUp(0, countOfpages)\n\n    })\n\n\n\n}\n\nfunction pagination(pages) {\n\n    let markUp = ''\n    for (let i = 1; i <= pages; i++) {\n        if (i === 1) {\n            markUp += `<button class=\"for_pagination active\">${i}</button>`\n        } else {\n            markUp += `<button class=\"for_pagination\">${i}</button>`\n        }\n\n    }\n    div.innerHTML = markUp\n    pag.addEventListener('click', onClick)\n\n\n}\nfunction onClick(evt) {\n    const numberOfButton = evt.target.textContent\n    const endEl = Number(numberOfButton) * countOfpages\n    const startEl = endEl - countOfpages\n\n    createMarkUp(startEl, endEl)\n    const children = [...evt.currentTarget.children]\n\n\n    children.find(child => child.classList.contains('active')).classList.remove('active')\n    evt.target.classList.add('active')\n}\n\n\n\nfunction createMarkUp(startPage = 0, endPage) {\n\n\n    let markUp = ''\n    const defaultImg = `https://aif-s3.aif.ru/images/025/611/46e179ca51577524e8a295748abbdbc1.jpg`\n    endPage = endPage < arr.length ? endPage : arr.length\n    for (let i = startPage; i < endPage; i++) {\n\n\n        markUp += `<div><img src=\"${arr[i].image ? arr[i].image : defaultImg}\" alt=\"${arr[i].name}\" width='250'>\n    <p>Имя: ${arr[i].name}</p>\n    <p>День рождения: ${arr[i].dateOfBirth ? arr[i].dateOfBirth : 'непонятно'}</p>\n    <p>Патронус: ${arr[i].patronus ? arr[i].patronus : 'непонятно'}</p>\n    </div>`\n\n    }\n    cards.innerHTML = markUp\n}"],"names":["async","$79e81cc842297628$export$2e2bcd8739ae039","house","fetch","then","res","json","err","console","log","$1f0dc3b9307be026$var$div","document","querySelector","$1f0dc3b9307be026$var$cards","$1f0dc3b9307be026$var$pag","$1f0dc3b9307be026$var$arr","addEventListener","evt","target","textContent","pages","markUp","i","innerHTML","$1f0dc3b9307be026$var$onClick","$1f0dc3b9307be026$var$pagination","Math","ceil","length","$1f0dc3b9307be026$var$createMarkUp","numberOfButton","endEl","Number","currentTarget","children","find","child","classList","contains","remove","add","startPage","endPage","image","name","dateOfBirth","patronus"],"version":3,"file":"index.998d9877.js.map"}